---
title: Verilog基础语法
published: 2024-07-20
description: "Verilog学习——基础语法"
image: ""
tags: ["Verilog"]
category: 编程
draft: true
---

## 0 Verilog简介
Verilog是一种描述逻辑电路的描述语言，它被设计用来描述逻辑电路的逻辑结构，以及逻辑电路的参数化。

## 1 verilog基础知识
### 1.1 逻辑值
在Verilog中，逻辑值主要包括四种，分别是0，1，X，Z。
* 逻辑0：表示低电平，对应电路的GND；
* 逻辑1：表示高电平，对应电路的VCC；
* 逻辑X：表示不确定，通常用于表示无法确定逻辑值的情况；
* 逻辑Z：表示高阻态，对应电路的悬空状态。

### 1.2 数字
在Verilog中，数字可以表示为二进制、八进制、十进制、十六进制等，一般的表示格式为`位宽` + `'` + `进制类型` + `数值`。
* 二进制：用`b`表示，例如`4'b1010`表示4位二进制数1010；
* 八进制：用`o`表示，例如`4'o12`表示4位八进制数12，表示十进制数10，转化为二进制为`4'b1010`；
* 十进制：用`d`表示，例如`4'd10`表示4位十进制数10，表示二进制数1010；
* 十六进制：用`h`表示，例如`4'ha`表示4位十六进制数a，表示二进制数1010。

### 1.3 数据类型
在Verilog中，数据类型包括三种，分别为寄存器类型（variable）、线网类型（net）和参数类型（parameter）。

#### 1.3.1 寄存器类型
寄存器类型在电路中表示一个抽象的数据存储单位。
最常用的寄存器类型为`reg`，用法如下。
```verilog
reg [31:0] count; // 32位寄存器，用于计数
reg  rst; // 复位信号
```

#### 1.3.2 线网类型
线网类型在电路中表示元件之间的物理连线，值由输入端决定。
线网类型包括`wire`、`tri`等，最常常用的线网类型为`wire`，用法如下。
```verilog
wire [31:0] data; // 32位数据线，用于数据传输
wire  rst; // 复位信号
```

#### 1.3.3 参数类型
参数类型相当于C/C++里面的`const`，表示一个常量，常用于定义延迟时间、数据位宽等。参数相当于局部常量，只在当前模块内可以使用。用法如下。
```verilog
parameter DELAY_TIME = 10; // 延迟时间，表示十个单位的延迟
parameter DATA_WIDTH = 32; // 数据位宽，表示32位数据
```

## 1.4 运算符
Verilog中运算符与C/C++类似，包括：
* 算术运算符：`+`，`-`，`*`，`/`，`%`
* 逻辑运算符：`!`，`&&`，`||`
* 位运算符：`&`，`|`，`^`，`~`，`>>`，`<<`
* 关系运算符：`>`，`<`，`>=`，`<=`，`!=`，`==`，`===`，`?:`
* 赋值运算符：`=`，`<=`
* 拼接运算符：`{}`，`{n{b}}`
:::note[注意]
* `===`表示全等，`==`表示相等
    ```verilog
    x === x //为true
    ```
* 非阻塞赋值`=`常用于组合逻辑，例如`assign`语句和`always@(*)`语句块；阻塞赋值`<=`常用于时序逻辑，例如`always@（posedge clk）`语句块。​​​​​​​
    ```verilog
    wire [11:0] data_in;
    reg [11:0] data_out;

    assign data_in = 6'b10111; //assign语句常给wire类型复制
    always @( posedge rst) begin //always语句块常给reg类型赋值
        data_out <= data_in;
    end
    ```
* 连接运算符`{}`用于将不同的信号合成为一个信号
    ```verilog
    wire [5:0] a,b,c;
    wire [11:0] d;
    assign a = 6'b101101;
    assign b = 6'b111000；
    assign c = 2'b11；
    assign d = {a[5],b[2:0],c}；//d = 100011
    ```
:::

:::note
普通内部信号建议全部小写，参数定义建议大写，另外信号命名最好体现信号的含义
:::
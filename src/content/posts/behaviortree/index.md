---
title: 行为树BehavourTree
published: 2024-11-16
description: "行为树学习记录"
image: ""
tags: ["C++", "决策", "行为树"]
category: 编程
draft: false
---

## 0 环境配置

## 1 基本概念

### 1.1 概述

行为树（Behavior Tree, BT）是一种用于构建自主代理（例如机器人或电脑游戏中非玩家控制的角色）决策过程的形式化图形建模语言。与有限状态机不同，行为树是控制“任务”执行流程的**分层节点树**。

它的主要特点和用途包括：

* 图形化建模：行为树使用图形符号来表示不同的任务和决策流程，使得复杂的逻辑易于理解和维护。
* 分层结构：行为树采用分层设计，可以将复杂的决策过程分解成多个层级，每个层级处理特定的任务或决策。
* 灵活性和可扩展性：通过组合不同的节点，可以轻松地修改或扩展行为树，以适应新的需求或环境变化。
* 广泛的应用领域：最初应用于视频游戏中的NPC控制，现在也被广泛应用于机器人技术、自动化系统等领域。

### 1.2 基本组成

行为树由节点（Node）构成，节点可以是以下类型：

* **Selector**：选择节点，根据条件执行子节点，直到有一个子节点成功。
* **Sequence**：顺序节点，依次执行子节点，直到一个子节点失败或者所有节点都成功。
* **Parallel**：并行节点，同时执行多个子节点，直到所有子节点都成功。
* 条件节点：条件节点，根据条件判断是否执行子节点。
* **Action**：行为节点，执行具体的任务或操作。

下图展现了一个基本的行为树结构：
![](https://www.behaviortree.dev/img/animated.svg)
<div align=" center">
<img src="https://www.behaviortree.dev/assets/images/sequence_animation-4155a892772542caf81fa16c824c91f8.svg"  width="60%" height="60%" />
</div>



### 1.3 执行流程
